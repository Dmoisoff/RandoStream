(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,s){e.exports=s(434)},191:function(e,t,s){},204:function(e){e.exports={client_id:"bhdp99vbpphliohyse5nf4shno04i0"}},231:function(e,t){},233:function(e,t){},264:function(e,t){},265:function(e,t){},313:function(e,t){},315:function(e,t){},335:function(e,t){},428:function(e,t,s){},430:function(e,t,s){},432:function(e,t,s){},434:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(183),o=s.n(r),i=(s(191),s(73)),l=s(32),u=s(33),c=s(46),h=s(43),p=s(45),g=s(19),d=s(436),m=s(184),f=s.n(m),b=s(204),v=s(205),y=function(){function e(){Object(l.a)(this,e),this.request=this.request(),this.broadcastInfo=[],this.previewImages=[],this.URLS=[],this.imagesAndURLS={},this.getTenImages=this.getTenImages.bind(this),this.getTenURLS=this.getTenURLS.bind(this),this.getTenStreams=this.getTenStreams.bind(this)}return Object(u.a)(e,[{key:"request",value:function(e){var t={uri:"https://api.twitch.tv/kraken/streams/",qs:{limit:"100",stream_type:"live",language:"en"},headers:{"Client-ID":b.client_id,Accept:"application/vnd.twitchtv.v5+json"},json:!0};return e&&(t.qs.cursor=e),t}},{key:"getTenStreams",value:function(){var e=this;return v(this.request).then(function(t){for(var s=new Set([]),a=50;a>0;){var n=Math.floor(99*Math.random());for(t._total<100&&(n=Math.floor(Math.random()*t._total));s.has(n);)n=Math.floor(99*Math.random());s.add(n),e.broadcastInfo.push(t.streams[n]),a--}return e.broadcastInfo}).catch(function(e){console.log("couldn't make request"),console.log(e)})}},{key:"getURL",value:function(e){return e.channel.url}},{key:"getImage",value:function(e){return e.preview.large}},{key:"getTenImages",value:function(e){var t=this;e.forEach(function(e){t.previewImages.push(t.getImage(e))})}},{key:"getTenURLS",value:function(e){var t=this;e.forEach(function(e){t.URLS.push(t.getURL(e))})}},{key:"chooseStream",value:function(e){var t={};return t.URL=this.URLS[e],t.previewImages=this.previewImages[e],t}},{key:"getTenImagesAndURLS",value:function(e){var t=this;e.forEach(function(e,s){t.imagesAndURLS[s+1]={result:t.getURL(e),image:t.getImage(e)}})}}]),e}(),S=(s(428),{1:{image:"./test_images/lighting.jpg",result:"./test_images/lighting.jpg"},2:{image:"./test_images/costume-head-horn-908686.jpg",result:"./test_images/costume-head-horn-908686.jpg"},3:{image:"./test_images/001_.jpg",result:"./test_images/001_.jpg"},4:{image:"./test_images/calf-whale-tail_adapt_1900_1.jpg",result:"./test_images/calf-whale-tail_adapt_1900_1.jpg"},5:{image:"./test_images/ice_cave.jpeg",result:"./test_images/ice_cave.jpeg"},6:{image:"./test_images/lights.jpeg",result:"./test_images/lights.jpeg"},7:{image:"./test_images/slient.jpeg",result:"./test_images/slient.jpeg"},8:{image:"./test_images/NationalGeographic_2343397_ngsversion_1493305203123_adapt_1900_1.jpg",result:"./test_images/NationalGeographic_2343397_ngsversion_1493305203123_adapt_1900_1.jpg"},9:{image:"./test_images/relax.jpeg",result:"./test_images/relax.jpeg"},10:{image:"./test_images/flowers.jpg",result:"./test_images/flowers.jpg"}}),O=s(103),w=(s(430),s(185)),k=(s(432),function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={sources:s.props.sources,rotations:360*(s.props.rotations||8),wedges:null},s}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.createWedges()}},{key:"componentDidUpdate",value:function(e,t){e.sources!==this.props.sources||t.rotations!==this.state.rotations?this.createWedges():e.rotations!==this.props.rotations&&this.setState({rotations:360*(this.props.rotations||8)})}},{key:"triangleStyle",value:function(e){var t={10:19,11:23,12:26,13:30,14:32,15:34,17:35.5,18:35.6,20:36,30:40,40:43,50:44,60:45.5,70:45.7,80:45.8,90:45.9,100:47.2},s={10:81,11:79,12:77.5,13:76,14:75,15:74,17:70.5,18:69,20:66,30:60,40:58,50:56,60:55,70:54,80:53,90:52.5,100:52.8},a=""+e,n=+a[a.length-1];if(s[e])return{clipPath:"polygon(50% 100%, ".concat(t[e],"% 0%, ").concat(s[e],"% 0%)")};var r=+(""+e)[0],o=+(r+"0"),i=+(r+1+"0");if(e<20&&e>15){o=null,i=null;for(var l=1;!o||!i;)s[e+l]&&(i=e+l),s[e-l]&&(o=e-l),l++}var u=[o,i],c=this.findTheSlope(u,t,s),h=Object(w.a)(c,2),p=h[0],g=h[1]*n+s[o];return{clipPath:"polygon(50% 100%, ".concat(p*n+t[o],"% 0%, ").concat(g,"% 0%)")}}},{key:"findTheSlope",value:function(e,t,s){var a=e[0],n=e[1];return[(t[n]-t[a])/10,(s[n]-s[a])/10]}},{key:"createWedges",value:function(){var e,t=[],s=Object.keys(this.props.sources).length,a=360/s,r=0,o=Math.floor(Math.random()*s),i=this.triangleStyle(s);for(var l in this.props.sources){var u={transform:"rotate(".concat(r,"deg)")};(l==o||0==o&&1==l)&&(console.log(this.props.sources[l].image),console.log(this.props.sources[l].result),e=this.props.sources[l].result),t.push(n.a.createElement("div",{key:l,style:u,className:"scaleDiv wedgePosition"},n.a.createElement("div",{style:i,className:"triangleTransform"},n.a.createElement("div",null,n.a.createElement("img",{className:"sourceImage",src:"".concat(this.props.sources["".concat(l)].image),alt:"preview"}))))),r+=a}this.props.setResult(e,this.spinBy(a,o)+this.state.rotations),this.setState({wedges:t})}},{key:"spinBy",value:function(e,t){return e*t-e<0?0:-(e*t-e)}},{key:"render",value:function(){return n.a.createElement(a.Fragment,null,this.state.wedges)}}]),t}(n.a.Component)),j=function(e){function t(e){var s;Object(l.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).startSpin=s.startSpin.bind(Object(g.a)(Object(g.a)(s)));var a=s.props.numberOfSources;return(!a||a<10)&&(a=10),s.state={sources:s.props.sources,numberOfSources:a,backgroundColor:s.props.backgroundColor||"orange",outerRingColor:s.props.outerRingColor||"white",buttonColor:s.props.buttonColor||"orange",durationOfSpin:s.props.durationOfSpin||5,showWedges:!1!==s.props.showWedges,fadeInTime:s.props.fadeInTime||1,spinning:!1,wedgeSources:{},spinBy:0,resultLocation:0,result:"",displayResult:!1,disableButton:!1,updateWheel:!1,setToZero:!1,firstSpin:!0,loadInResult:!1},s}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if("function"===typeof this.state.sources)this.getWedges();else{var e=this.state.sources,t=Object.values(e);t.length<this.state.numberOfSources&&(e=this.properNumberOfSources(t)),this.setWedges(e)}}},{key:"properNumberOfSources",value:function(e){for(var t=Object.values(e);t.length<this.state.numberOfSources;)t=Object(O.a)(t).concat(Object(O.a)(t));return t=t.slice(0,this.state.numberOfSources),this.createShuffleObj(t)}},{key:"createShuffleObj",value:function(e){for(var t={},s=e.length-1;s>0;s--){var a=Math.floor(Math.random()*(s+1)),n=[e[a],e[s]];e[s]=n[0],e[a]=n[1]}for(var r=0;r<e.length;r++)t[r+1]=e[r];return t}},{key:"getWedges",value:function(){var e=this;if("function"===typeof this.state.sources)return this.state.sources().then(function(t){var s=Object.values(t);(s.length<e.state.numberOfSources||s.length>e.state.numberOfSources)&&(t=e.properNumberOfSources(s)),e.setWedges(t)});var t=this.createShuffleObj(Object.values(this.state.wedgeSources));this.setWedges(t)}},{key:"setWedges",value:function(e){this.setState({spinning:!1,wedgeSources:e,spinBy:0,resultLocation:0,displayResult:!1,updateWheel:!1,setToZero:!0,result:null,loadInResult:!1})}},{key:"setResult",value:function(e,t){this.setState({result:e,resultLocation:t,loadInResult:!0})}},{key:"componentDidUpdate",value:function(e,t){var s=this;this.state.firstSpin||this.state.updateWheel||t.result===this.state.result?t.result!==this.state.result&&this.state.showWedges&&this.state.spinning?this.startSpin():this.state.disableButton&&setTimeout(function(){s.setState({displayResult:!0,disableButton:!1,spinning:!1,updateWheel:!0})},1e3*this.state.durationOfSpin):this.startSpin()}},{key:"startSpin",value:function(){this.state.updateWheel?this.getWedges():this.state.showWedges?this.setState({spinBy:this.state.resultLocation,disableButton:!0,spinning:!0,setToZero:!1,firstSpin:!1}):this.setState({showWedges:!0,spinning:!0})}},{key:"circleStyle",value:function(){return this.state.setToZero?{backgroundColor:"".concat(this.props.backgroundColor),boxShadow:"0px 0px 0px 12px\n        ".concat(this.props.outerRingColor),transform:"translate(-50%, 0%) rotate(0deg)"}:{backgroundColor:"".concat(this.props.backgroundColor),boxShadow:"0px 0px 0px 12px\n        ".concat(this.props.outerRingColor),transform:"translate(-50%, 0%) rotate(".concat(this.state.spinBy,"deg)"),transitionDuration:"".concat(this.state.durationOfSpin,"s")}}},{key:"buttonStyle",value:function(){return this.state.displayResult?{backgroundColor:this.props.buttonColor,transition:"opacity ".concat(this.state.fadeInTime,"s"),opacity:".5",border:"4px solid ".concat(this.props.buttonBorder)}:{backgroundColor:this.props.buttonColor,border:"4px solid ".concat(this.props.buttonBorder)}}},{key:"displayResultStyle",value:function(){return this.state.displayResult?{transition:"opacity ".concat(this.state.fadeInTime,"s"),opacity:"1",zIndex:"4"}:{opacity:"0"}}},{key:"render",value:function(){var e=this,t=this.circleStyle(),s=this.buttonStyle(),r=this.displayResultStyle(),o=this.props.outerRingColor?{borderColor:"".concat(this.props.outerRingColor," transparent transparent")}:{borderColor:"white transparent transparent"},i=this.state.loadInResult&&this.state.result?n.a.createElement("div",{style:r,className:"displayResult"},this.props.displayResult(this.state.result)):null,l=this.state.showWedges?n.a.createElement(k,{sources:this.state.wedgeSources,rotations:this.props.rotations,setResult:this.setResult.bind(this)}):null;return n.a.createElement(a.Fragment,null,n.a.createElement("div",{className:"min"},i,n.a.createElement("div",{className:"alignmentOnCircle"},n.a.createElement("div",{style:o,className:"pointer"}),n.a.createElement("button",{disabled:this.state.disableButton,style:s,className:"spinnerButton",onClick:function(){return e.startSpin()}},"Spin!")),n.a.createElement("div",{style:t,className:"circleStyle"},n.a.createElement("div",{className:"createCirlce"},n.a.createElement("div",{className:"cirlcePlacement"},l)))))}}]),t}(n.a.Component),R=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={numberOfSources:10,numberOfRotations:10,durationOfSpin:10,fadeInTime:1,outerRingColor:"white",backgroundColor:"orange",buttonColor:"orange",buttonBorder:"black",showWedges:!0,changableSettings:[["numberOfSources","Number of wedges: <br/> 10 - 100"],["fadeInTime","Duration of reveal: <br/> in secs"],["durationOfSpin","Duration of spinning: <br/> in secs"],["numberOfRotations","Number of rotations: <br/> if the number is to large, the wheel will abruptly stop then reveal the result"]],changableColorSettings:[["outerRingColor","Outer Ring Color"],["backgroundColor","Background Color"],["buttonColor","Button Color"],["buttonBorder","Button Border"]],sources:s.getStreamers,displayResult:s.displayStream.bind(Object(g.a)(Object(g.a)(s))),wheel:null,updated:!1},s.getStreamers=s.getStreamers.bind(Object(g.a)(Object(g.a)(s))),s.displayStream=s.displayStream.bind(Object(g.a)(Object(g.a)(s))),s}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getStreamers",value:function(){var e=new y;return e.getTenStreams().then(function(t){return e.getTenImagesAndURLS(t),e.imagesAndURLS})}},{key:"displayStream",value:function(e){return n.a.createElement(f.a,{url:"".concat(e),width:"inherit"})}},{key:"display",value:function(e){return n.a.createElement("img",{src:"".concat(e),alt:"result"})}},{key:"updateValues",value:function(e){var t,s=e.target.id,a=e.target.value;""!==a&&this.state[s]!=a&&(s.toLowerCase().includes("color")||s.toLowerCase().includes("button")?this.setState(Object(i.a)({},s,a)):("numberOfSources"===e.target.id?((a=+e.target.value)<10&&(a=10),a>100&&(a=100)):"showWedges"===e.target.id&&(a="false"!==a),this.setState((t={},Object(i.a)(t,s,a),Object(i.a)(t,"updated",!0),t))))}},{key:"updateSources",value:function(e){if("function"===e.target.value)this.setState({sources:this.getStreamers,displayResult:this.displayStream.bind(this),updated:!0});else{var t=S;this.setState({sources:t,displayResult:this.display.bind(this),updated:!0})}}},{key:"updateOnEnter",value:function(e){"Enter"===e.key&&this.updateValues(e)}},{key:"changableSettings",value:function(e){for(var t=this,s=[],a=e,r=0;r<a.length;r++){var o=a[r][0],i=a[r][1];s.push(n.a.createElement("li",{key:r,className:"inputFormating"},n.a.createElement("p",{dangerouslySetInnerHTML:{__html:i}}),n.a.createElement("input",{id:"".concat(o),type:"text",onBlur:function(e){return t.updateValues(e)},onKeyPress:function(e){return t.updateOnEnter(e)}})))}return s}},{key:"componentDidUpdate",value:function(e,t){this.state.updated&&this.spinningWheel()}},{key:"componentDidMount",value:function(){this.spinningWheel()}},{key:"spinningWheel",value:function(){return this.state.updated&&this.setState({updated:!1}),n.a.createElement(j,{sources:this.state.sources,displayResult:this.state.displayResult,buttonColor:this.state.buttonColor,backgroundColor:this.state.backgroundColor,outerRingColor:this.state.outerRingColor,numberOfSources:this.state.numberOfSources,buttonBorder:this.state.buttonBorder,fadeInTime:this.state.fadeInTime,durationOfSpin:this.state.durationOfSpin,rotations:this.state.numberOfRotations,showWedges:this.state.showWedges})}},{key:"render",value:function(){var e=this,t=this.changableSettings(this.state.changableSettings),s=this.changableSettings(this.state.changableColorSettings),r=this.state.updated?null:this.spinningWheel();return n.a.createElement(d.a,null,n.a.createElement(a.Fragment,null,n.a.createElement("div",{className:"centerArea"},n.a.createElement("div",{style:{maxWidth:"285px",zIndex:5},className:"changableSettings"},n.a.createElement("ul",null,n.a.createElement("p",null,"Below you can modify the colors of the wheel. ",n.a.createElement("br",null)," Please use valid CSS colors"),s)),n.a.createElement("div",{style:{marginLeft:"50px",marginRight:"50px"}},r),n.a.createElement("div",{style:{maxWidth:"285px",zIndex:5},className:"changableSettings"},n.a.createElement("ul",null,n.a.createElement("p",null,"Below you can modify the attrubutes of the wheel. ",n.a.createElement("br",null)," ","Updating these elements will cause the wheel to reload its contents"),t))),n.a.createElement("div",{className:"lowerSetting"},n.a.createElement("div",{className:"centerItems"},n.a.createElement("p",null,"Show Wedges before spin"),n.a.createElement("select",{value:this.state.showWedges,id:"showWedges",onChange:function(t){return e.updateValues(t)}},n.a.createElement("option",{value:!0},"true"),n.a.createElement("option",{value:!1},"false"))),n.a.createElement("div",{className:"centerItems"},n.a.createElement("p",null,"Types of inputs"),n.a.createElement("select",{onChange:function(t){return e.updateSources(t)}},n.a.createElement("option",{defaultValue:!0,value:"function"},"Results from API"),n.a.createElement("option",{value:"photosImages"},"Photos"))))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[186,2,1]]]);
//# sourceMappingURL=main.6feda438.chunk.js.map